<!DOCTYPE html><html lang=zh-CN style=position:fixed;width:100%;overflow:hidden><head><meta charset=utf-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta name=viewport content="width=1200"><title>[USACO1.2] Greedy Algorithm - 题目 - Likecoding online judge</title><script src="../cdn-cgi/apps/head/Mbsl84Nsthf-l0FRrz9G8G5clwg.js"></script><link href=https://cdnjs.loli.net/ajax/libs/semantic-ui/2.4.1/semantic.min.css rel=stylesheet><link href="../self/tomorrow.css" rel=stylesheet><link href="../self/mathjax.css" rel=stylesheet><link href="../self/style.css" rel=stylesheet><link href=https://cdnjs.loli.net/ajax/libs/KaTeX/0.10.0/katex.min.css rel=stylesheet><link href=https://cdnjs.loli.net/ajax/libs/morris.js/0.5.1/morris.css rel=stylesheet><link href="https://fonts.loli.net/css?family=Fira+Mono" rel=stylesheet><link href="https://fonts.loli.net/css?family=Lato:400,700,400italic,700italic&subset=latin" rel=stylesheet><link href="https://fonts.loli.net/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&amp;subset=latin-ext" rel=stylesheet><link href="https://fonts.loli.net/css?family=Exo+2:600" rel=stylesheet><script src=https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js></script><script>!function(e,a,t,n,c,g,s){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,g=a.createElement("script"),s=a.getElementsByTagName("script")[0],g.async=1,g.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(g,s)}(window,document),ga("create","UA-131509851-1","auto"),ga("send","pageview")</script></head><body style="position:relative;margin-top:49px;height:calc(100% - 49px);overflow-y:overlay"><div class="ui fixed borderless menu" style=position:fixed;height:49px><div class="ui container"><a class="header item" href="../oj_likecoding_default.html"><span style="font-family:'Exo 2';font-size:1.5em;font-weight:600">Likecoding online judge</span></a> <a class=item href="../oj_likecoding_default.html"><i class="home icon"></i> 首页</a> <a class="item active" href="../problems.htm"><i class="list icon"></i> 题库</a> <a class=item href="../contests.htm"><i class="calendar icon"></i> 比赛</a> <a class=item href="../submissions.htm"><i class="tasks icon"></i> 评测</a> <a class=item href="../ranklist.htm"><i class="signal icon"></i> 排名</a> <a class=item href="../discussion/global.htm"><i class="comments icon"></i> 讨论</a> <a class=item href="../help.htm"><i class="help circle icon"></i> 帮助</a><div class="right menu"><div class=item><a class="ui button" style=margin-right:.5em href="../login_8.htm">登录 </a><a class="ui primary button" href="../sign_up_8.htm">注册</a></div></div></div></div><div style=margin-top:28px><div class="ui main container"><style>.ace_cursor{border-left-width:1px!important;color:#000!important}#languages-menu::-webkit-scrollbar,#testcase-menu::-webkit-scrollbar{width:0;background:0 0}div[class*=ace_br]{border-radius:0!important}</style><script src=https://cdnjs.loli.net/ajax/libs/ace/1.4.2/ace.js></script><div class="ui center aligned grid"><div class=row><h1 class="ui header">#2009. [USACO1.2] Greedy Algorithm</h1></div><div class=row style=margin-top:-15px><span class="ui label">内存限制：64 MiB</span> <span class="ui label">时间限制：1000 ms</span> <span class="ui label">标准输入输出</span></div><div class=row style=margin-top:-23px><span class="ui label">题目类型：传统</span> <span class="ui label">评测方式：无测试数据</span></div><div class=row style=margin-top:-23px><span class="ui label">上传者： <a href="../user/1.htm">root</a></span></div></div><div class="ui grid"><div class=row><div class=column><div class="ui buttons"><a class="small ui positive button" href="https://oj.likecoding.ooo/submissions?problem_id=2009">提交记录</a> <a class="small ui orange button" href="https://oj.likecoding.ooo/problem/2009/statistics/fastest">统计</a> <a class="small ui yellow button" href="https://oj.likecoding.ooo/problem/2009/testdata">测试数据</a> <a class="small ui brown button" href="https://oj.likecoding.ooo/discussion/problem/2009" style=position:relative>讨论</a></div><div class="ui buttons right floated"></div></div></div><div class=row><div class=column><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style=position:relative;overflow:hidden><h4>Sample Problem: Barn Repair [1999 USACO Spring Open]</h4><p></p><p>There is a long list of stalls, some of which need to be covered with boards. You can use up to N (1 &lt;= N &lt;= 50) boards, each of which may cover any number of consecutive stalls. Cover all the necessary stalls, while covering as few total stalls as possible.</p><h4>The Idea</h4><p></p><p>The basic idea behind greedy algorithms is to build large solutions up from smaller ones. Unlike other approaches, however, greedy algorithms keep only the best solution they find as they go along. Thus, for the sample problem, to build the answer for N = 5, they find the best solution for N = 4, and then alter it to get a solution for N = 5. No other solution for N = 4 is ever considered.</p><p></p><p>Greedy algorithms are <b>fast</b>, generally linear to quadratic and require little extra memory. Unfortunately, they usually aren&apos;t correct. But when they do work, they are often easy to implement and fast enough to execute.</p><h4>Problems</h4><p></p><p>There are two basic problems to greedy algorithms.</p><h5>How to Build</h5><p></p><p>How does one create larger solutions from smaller ones? In general, this is a function of the problem. For the sample problem, the most obvious way to go from four boards to five boards is to pick a board and remove a section, thus creating two boards from one. You should choose to remove the largest section from any board which covers only stalls which don&apos;t need covering (so as to minimize the total number of stalls covered).</p><p></p><p>To remove a section of covered stalls, take the board which spans those stalls, and make into two boards: one of which covers the stalls before the section, one of which covers the stalls after the section.</p><h5>Does it work?</h5><p></p><p>The real challenge for the programmer lies in the fact that greedy solutions don&apos;t always work. Even if they seem to work for the sample input, random input, and all the cases you can think of, if there&apos;s a case where it won&apos;t work, at least one (if not more!) of the judges&apos; test cases will be of that form.</p><p></p><p>For the sample problem, to see that the greedy algorithm described above works, consider the following:</p><p></p><p>Assume that the answer doesn&apos;t contain the large gap which the algorithm removed, but does contain a gap which is smaller. By combining the two boards at the end of the smaller gap and splitting the board across the larger gap, an answer is obtained which uses as many boards as the original solution but which covers fewer stalls. This new answer is better, so therefore the assumption is wrong and we should always choose to remove the largest gap.</p><p></p><p>If the answer doesn&apos;t contain this particular gap but does contain another gap which is just as large, doing the same transformation yields an answer which uses as many boards and covers as many stalls as the other answer. This new answer is just as good as the original solution but no better, so we may choose either.</p><p></p><p>Thus, there exists an optimal answer which contains the large gap, so at each step, there is always an optimal answer which is a superset of the current state. Thus, the final answer is optimal.</p><h4>Conclusions</h4><p></p><p>If a greedy solution exists, use it. They are easy to code, easy to debug, run quickly, and use little memory, basically defining a good algorithm in contest terms. The only missing element from that list is correctness. If the greedy algorithm finds the correct answer, go for it, but don&apos;t get suckered into thinking the greedy solution will work for all problems.</p><h4>Sample Problems</h4><h5>Sorting a three-valued sequence [IOI 1996]</h5><p></p><p>You are given a three-valued (1, 2, or 3) sequence of length up to 1000. Find a minimum set of exchanges to put the sequence in sorted order.</p><p></p><p><b>Algorithm</b> The sequence has three parts: the part which will be 1 when in sorted order, 2 when in sorted order, and 3 when in sorted order. The greedy algorithm swaps as many as possible of the 1&apos;s in the 2 part with 2&apos;s in the 1 part, as many as possible 1&apos;s in the 3 part with 3&apos;s in the 1 part, and 2&apos;s in the 3 part with 3&apos;s in the 2 part. Once none of these types remains, the remaining elements out of place need to be rotated one way or the other in sets of 3. You can optimally sort these by swapping all the 1&apos;s into place and then all the 2&apos;s into place.</p><p></p><p>Analysis: Obviously, a swap can put at most two elements in place, so all the swaps of the first type are optimal. Also, it is clear that they use different types of elements, so there is no ``interference&apos;&apos; between those types. This means the order does not matter. Once those swaps have been performed, the best you can do is two swaps for every three elements not in the correct location, which is what the second part will achieve (for example, all the 1&apos;s are put in place but no others; then all that remains are 2&apos;s in the 3&apos;s place and vice-versa, and which can be swapped).</p><h5>Friendly Coins - A Counterexample [abridged]</h5><p></p><p>Given the denominations of coins for a newly founded country, the Dairy Republic, and some monetary amount, find the smallest set of coins that sums to that amount. The Dairy Republic is guaranteed to have a 1 cent coin.</p><p></p><p>Algorithm: Take the largest coin value that isn&apos;t more than the goal and iterate on the total minus this value.</p><p></p><p>(Faulty) Analysis: Obviously, you&apos;d never want to take a smaller coin value, as that would mean you&apos;d have to take more coins to make up the difference, so this algorithm works.</p><p></p><p>Maybe not: Okay, the algorithm usually works. In fact, for the U.S. coin system {1, 5, 10, 25}, it always yields the optimal set. However, for other sets, like {1, 5, 8, 10} and a goal of 13, this greedy algorithm would take one 10, and then three 1&apos;s, for a total of four coins, when the two coin solution {5, 8} also exists.</p><h5>Topological Sort</h5><p></p><p>Given a collection of objects, along with some ordering constraints, such as &quot;A must be before B,&quot; find an order of the objects such that all the ordering constraints hold.</p><p></p><p>Algorithm: Create a directed graph over the objects, where there is an arc from A to B if &quot;A must be before B.&quot; Make a pass through the objects in arbitrary order. Each time you find an object with in-degree of 0, greedily place it on the end of the current ordering, delete all of its out-arcs, and recurse on its (former) children, performing the same check. If this algorithm gets through all the objects without putting every object in the ordering, there is no ordering which satisfies the constraints.</p></div></div></div></div><div class=row><div class=column><h4 class="ui block header" id=show_tag_title_div style=margin-bottom:0;margin-left:-1px;margin-right:-1px><a href="2009.htm#" id=show_tag_button style=color:#000>显示分类标签</a></h4><div class="ui bottom attached segment" style=display:none id=show_tag_div><a href="../problems/tag/52.htm" class="ui medium teal label">Section 1.4 </a><a href="../problems/tag/22.htm" class="ui medium violet label">USACO</a></div></div></div><script>$(function(){$("#show_tag_button").click(function(t){t.preventDefault(),$("#show_tag_title_div").addClass("top"),$("#show_tag_title_div").addClass("top attached"),$("#show_tag_title_div").text("分类标签"),$("#show_tag_div").css("display","")})})</script></div><script type=text/javascript>function submit_code(){return!(!$("#submit_code input[name=answer]").val().trim()&&!editor.getValue().trim())&&($("#submit_code input[name=language]").val($("#languages-menu .item.active").data("value")),lastSubmitted=editor.getValue(),$("#submit_code input[name=code]").val(editor.getValue()),!0)}var editor=ace.edit("editor"),lastSubmitted="";editor.setTheme("ace/theme/tomorrow"),editor.getSession().setMode("ace/mode/"+$("#languages-menu .item.active").data("mode")),editor.getSession().setUseSoftTabs(!1),editor.container.style.lineHeight=1.6,editor.container.style.fontSize="14px",editor.container.style.fontFamily="'Roboto Mono', 'Bitstream Vera Sans Mono', 'Menlo', 'Consolas', 'Lucida Console', monospace",editor.setShowPrintMargin(!1),editor.renderer.updateFontSize(),$("#languages-menu")[0].scrollTop=$("#languages-menu .active")[0].offsetTop-$("#languages-menu")[0].firstElementChild.offsetTop,$(function(){$("#languages-menu .item").click(function(){$(this).addClass("active").closest(".ui.menu").find(".item").not($(this)).removeClass("active"),editor.getSession().setMode("ace/mode/"+$(this).data("mode"))})})</script><script src=https://cdn.staticfile.org/css-element-queries/0.4.0/ResizeSensor.min.js></script><div class="ui modal" id=modal-custom-test><div class=header>自定义测试</div><div class=content style=padding-bottom:0><div class="ui form"><form id=form-custom-test action="https://oj.likecoding.ooo/problem/2009/custom-test"><input type=hidden name=code> <input type=hidden name=language><div class=field><label>输入文件</label><textarea name=input_file_textarea style="font-family:'Roboto Mono','Bitstream Vera Sans Mono',Menlo,Consolas,'Lucida Console',monospace"></textarea></div><div class="inline fields" style=width:100%><div class=field style="margin:0 auto"><label for=answer>或者，上传输入文件</label><input type=file name=input_file></div></div></form></div><div id=custom-test-result></div></div><div class=actions style=text-align:center><div class="ui green button" id=submit-custom-test>提交</div></div></div><script>function show_custom_test(){$("#modal-custom-test").modal("show"),new ResizeSensor($("#modal-custom-test"),function(){$(window).resize()})}function update_custom_test_result(){$.get("/custom-test/"+custom_test_id+"/ajax",function(t){t.err&&alert(t.err),$("#custom-test-result").html()!==t.html&&$("#custom-test-result").html(t.html),t.pending?setTimeout(function(){update_custom_test_result()},500):$("#submit-custom-test").removeClass("disabled")})}var custom_test_id;$("#submit-custom-test").click(function(){$("#submit-custom-test").addClass("disabled");var t=document.getElementById("form-custom-test");$(t).find("[name=language]").val($("#languages-menu .item.active").data("value")),$(t).find("[name=code]").val(editor.getValue());var e=$("#answer")[0].cloneNode(!0);e.style.display="none",e.name="code_upload",t.appendChild(e),$.ajax({url:t.action,type:"post",data:new FormData(t),cache:!1,contentType:!1,processData:!1,success:function(t){custom_test_id=t.id,update_custom_test_result()}}),t.removeChild(e)})</script></div><div class="ui vertical footer segment" style=margin-top:15px><div class="ui center aligned container"><span style=color:#999>Likecoding online judge Powered by <a href=https://github.com/syzoj/syzoj target=_blank>SYZOJ</a>.</span></div></div></div><script src=https://cdnjs.loli.net/ajax/libs/semantic-ui/2.4.1/semantic.min.js></script><script src=https://cdnjs.loli.net/ajax/libs/Chart.js/2.7.3/Chart.bundle.min.js></script><script src="../self/script.js"></script></body></html>